<!DOCTYPE HTML>
<html lang="ja">
<head>
<meta name="viewport" content="width=device-width,initial-scale=1.2,minimum-scale=1.2,maximum-scale=1.2,user-scalable=no">
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<link href="https://fonts.googleapis.com/earlyaccess/nicomoji.css" rel="stylesheet">
<meta charset="utf-8">
<title>Tablet</title>
</head>

<script>
  $(function() {
    g_number = 0;
    init();
    $(document).on("click", ".shard.set", open_answer);
    $(document).on("click", ".shard.next", next_content);
  });

  function init() {
    close_answer();
  };

  function open_answer() {
    $(".shard.answer").show();
    $(".shard.next").show();
  };

  function close_answer() {
    $(".shard.answer").hide();
    $(".shard.next").hide();
    $("#response_content").val("");
  };

  function next_content() {
    close_answer();
    $.ajax({
      url: "https://nontak.github.io/tablet/contents/list.json",
      type: "GET",
      dataType: "json"
    }).done(parse_json).fail(json_fail);
  };

  function parse_json(json) {
    $.each(json, function(i, data) {
      g_number++;
      $("#p_text").html(`第${g_number}問`);
      $("#q_text").html(`「${data.q}」`);
      $("#a_text").html("☆" + data.a);
    })
  };

  function json_fail(e) {
    console.log(e);
  };

</script>

<style>

.wf-nicomoji {
  font-family: "Nico Moji";
  font-weight: bold;
  color: saddlebrown;
  font-size: 20px;
  word-wrap:  break-word;
}

:root {
  --px: 10px;
  --py: 10px;
}

.stripe {
  --color_x: #f5eeed;
  --color_y: #f4e2de;
  background-image: linear-gradient(
    -45deg,
    var(--color_x) 25%,
    var(--color_y) 25%,
    var(--color_y) 50%,
    var(--color_x) 50%,
    var(--color_x) 75%,
    var(--color_y) 75%,
    var(--color_y)
  );
  background-size: 10px 10px;
  background-attachment: fixed;
}

.stripe.stripe-a {
  --color_x: beige;
  --color_y: peachpuff;
}

.stripe.stripe-b {
  --color_x: pink;
  --color_y: moccasin;
}

.shard.sweet-radius {
  border-radius: 10px;
}

.background {
  position: absolute;
  left:   var(--px);
  height: var(--py);
  width:  calc(100% - var(--px) * 2);
  height: calc(100% - var(--py) * 2);
}

.shard {
  --l:  var(--px);
  --t:  var(--py);
  --w:  calc(100% - var(--px) * 2);
  --h:  calc(100% - var(--py) * 2);
  position: absolute;
  display:  flex;
  left:   var(--l);
  top:    var(--t);
  width:  var(--w);
  height: var(--h);
}

.content {
  flex: 0 1 auto;
  width:  100%;
  margin: auto;
  padding: 0 10px 0 10px;
}

.content.center {
  text-align: center;
}

.shard.page {
  --h:  50px;
  background-color: lightpink;
  border-top-left-radius: calc(var(--h) / 2);
  border-bottom-left-radius: calc(var(--h) / 2);
  width: auto;
}

.shard.question {
  --t:  calc(50px + var(--py));
  --h:  50px;
  --w:  calc(100% - var(--px) * 4);
  --l:  calc(var(--px) * 2);
  background-color: silver;
}

.down-triangle {
  --color:  peachpuff;
  --t:  calc(100px + var(--py));
  --h:  10px;
  --l:  40px;
  width: 0;
  height: 0;
  border-style: solid;
  border-width: 10px 10px 0 10px;
  border-color: var(--color) transparent transparent transparent;
}

.shard.stage {
  --t:  calc(110px + var(--py));
  --h:  150px;
  --w:  calc(100% - var(--px) * 4);
  --l:  calc(var(--px) * 2);
  background-color: gray;
}

.up-triangle {
  --color:  pink;
  --t:  calc(260px + var(--py));
  --h:  10px;
  --l:  calc(100% - 100px);
  width: 0;
  height: 0;
  border-style: solid;
  border-width: 0 10px 10px 10px;
  border-color: transparent transparent var(--color) transparent;
}

.shard.response {
  --t:  calc(270px + var(--py));
  --h:  50px;
  --w:  calc(100% - var(--px) * 4);
  --l:  calc(var(--px) * 2);
  background-color: silver;
}

.shard.set {
  --t:  calc(320px + var(--py));
  --h:  50px;
}

.shard.answer {
  --t:  calc(370px + var(--py));
  --h:  50px;
}

.shard.next {
  --h:  50px;
  --w:  150px;
  --t:  420px;
  left:   calc(100% - var(--w) - var(--px));
}

.white {
  color: white;
}

#response_content {
  width: calc(100% - 100px);
  font-size: 20px;
}

#show_answer {
  display: block;
  border-bottom: double 6px skyblue;
}

#a_text {
  display: block;
  border-bottom: double 6px orange;
}

</style>

<body class="wf-nicomoji">
  <div class="background">
    <div class="shard page">
      <div class="content">
        <span class="white">●</span><span>▶</span><span id="p_text">はじまるよ！</span>
      </div>
    </div>

    <div class="shard question stripe stripe-a sweet-radius">
      <div class="content">
        <span id="q_text"></span>
      </div>
    </div>
<div class="shard down-triangle"></div>

    <div class="shard stage">
      <div class="content">
      </div>
    </div>

<div class="shard up-triangle"></div>
    <div class="shard response stripe stripe-b sweet-radius">
      <div class="content">
        <span>回答：</span>
        <input type="text" id="response_content"></input>
      </div>
    </div>

    <div class="shard set">
      <div class="content center">
        <span id="show_answer">▼ 答えを見る</span>
      </div>
    </div>

    <div class="shard answer">
      <div class="content center">
        <span id="a_text">これはただの例文です</span>
      </div>
    </div>

    <div class="shard next">
      <div class="content">
        <span>次の問題!▶</span>
      </div>
    </div>
  </div>
</body>

